{"version":3,"file":"src_app_core_service_token-storage_service_ts-src_app_erp-hr-self-service_modules_employee-mi-9e33bb.js","mappings":"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","sources":["./src/app/core/service/token-storage.service.ts","./src/app/erp-hr-self-service/modules/employee-miscellaneous/employee-miscellaneous-routing.module.ts","./src/app/erp-hr-self-service/modules/employee-miscellaneous/employee-miscellaneous.module.ts","./src/app/erp-hr-self-service/modules/employee-miscellaneous/staff-loans/staff-loans.component.ts","./src/app/erp-hr-self-service/modules/employee-miscellaneous/staff-loans/staff-loans.component.html"],"sourcesContent":["import { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport {\n  MatSnackBar,\n  MatSnackBarHorizontalPosition,\n  MatSnackBarVerticalPosition,\n} from \"@angular/material/snack-bar\";\nimport { Router } from \"@angular/router\";\nimport { Observable, map, tap } from \"rxjs\";\nimport { environment } from \"src/environments/environment.prod\";\n\nconst TOKEN_KEY = \"auth-token\";\nconst USER_KEY = \"auth-user\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class TokenStorageService {\n  headers = new HttpHeaders().set(\"Content-Type\", \"application/json\");\n\n  horizontalPosition: MatSnackBarHorizontalPosition = \"end\";\n  verticalPosition: MatSnackBarVerticalPosition = \"top\";\n\n  constructor(\n    private http: HttpClient,\n  \n  ) {}\n\n  public getToken(): string | null {\n    // get the name of the cookie to retrieve\n    const name = \"accessToken\";\n    // split the document.cookie string into an array of individual cookies\n    const cookieArray = document.cookie.split(\";\");\n    // loop through the cookies to find the one with the matching name\n    for (let i = 0; i < cookieArray.length; i++) {\n      let cookie = cookieArray[i];\n      //console.log(\"cookieArray: \", cookieArray)\n      // remove any leading spaces from the cookie string\n      while (cookie.charAt(0) === \" \") {\n        cookie = cookie.substring(1);\n      }\n      // if the cookie name matches the desired name, return the cookie value\n      if (cookie.indexOf(name) === 0) {\n        return cookie.substring(name.length, cookie.length);\n      }\n    }\n    // if the cookie was not found, return null\n    return null;\n  }\n\n  public saveUser(user: any): void {\n    window.localStorage.removeItem(USER_KEY);\n    window.localStorage.setItem(USER_KEY, JSON.stringify(user));\n  }\n\n  public getUser(): any {\n    const user = window.localStorage.getItem(USER_KEY);\n    if (user) {\n      return JSON.parse(user);\n    }\n\n    return null;\n  }\n  public getEmppf(){\n    return this.getUser().empPfNo\n  }\n  \n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { StaffLoansComponent } from './staff-loans/staff-loans.component';\nimport { RoutePrivilegeGuard } from 'src/app/erp-procurement/data/services/_AccessControlAuthGuard.service';\n\nconst routes: Routes = [\n  {\n    path: \"staff-loans\",\n    component: StaffLoansComponent,\n    canActivate: [RoutePrivilegeGuard],\n    data: {\n      clientName: \"EmployeePortalModule\",\n      requiredPrivilege: [\"Dashboard\"],\n    },\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class EmployeeMiscellaneousRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { EmployeeMiscellaneousRoutingModule } from './employee-miscellaneous-routing.module';\nimport { StaffLoansComponent } from './staff-loans/staff-loans.component';\nimport { ComponentsModule } from 'src/app/shared/components/components.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { DashboardModule } from '../dashboard/dashboard.module';\n\n\n@NgModule({\n  declarations: [\n    StaffLoansComponent\n  ],\n  imports: [\n    CommonModule,\n    EmployeeMiscellaneousRoutingModule,\n\n    DashboardModule,\n    ComponentsModule,\n    SharedModule,\n  ]\n})\nexport class EmployeeMiscellaneousModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-staff-loans',\n  templateUrl: './staff-loans.component.html',\n  styleUrls: ['./staff-loans.component.scss']\n})\nexport class StaffLoansComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n  navigateToExistingAccount() {\n    window.open('https://kingdombankltd.sharepoint.com/OA/_layouts/15/FormServer.aspx?XsnLocation=https%3a//kingdombankltd.sharepoint.com/OA/StaffLoans/Forms/template.xsn&SaveLocation=https%3a//kingdombankltd.sharepoint.com/OA/StaffLoans&ClientInstalled=false&DefaultItemOpen=1&Source=https%3a//kingdombankltd.sharepoint.com/OA/SitePages/Staff%2520Loan.aspx', '_blank');\n  }\n\n  navigateToNewAccount() {\n    window.open('https://kingdombankltd.sharepoint.com/OA/_layouts/15/FormServer.aspx?XsnLocation=https%3a//kingdombankltd.sharepoint.com/OA/Staff%20Profile/Forms/template.xsn&SaveLocation=https%3a//kingdombankltd.sharepoint.com/OA/Staff%20Profile&ClientInstalled=false&DefaultItemOpen=1&Source=https%3a//kingdombankltd.sharepoint.com/OA/SitePages/Staff%2520Profile%2520Data.aspx', '_blank');\n  }\n}\n","<section class=\"content\">\n    <div class=\"content-block\">\n        <div class=\"block-header\">\n            <!-- breadcrumb -->\n            <app-breadcrumb [title]=\"'All Shared Documents'\" [items]=\"['Shared Documents']\"\n                [active_item]=\"'All Shared Documents'\">\n            </app-breadcrumb>\n        </div>\n\n        <app-gen-widgets></app-gen-widgets>\n\n        <div class=\"row\">\n            <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <div class=\"card\">\n                    <div class=\"header\">\n                        <h1>Staff Loan Portal</h1>\n                    </div>\n                    <div class=\"body\">\n\n                        <div class=\"staff-loan-page\">\n                            <p>Welcome to the Staff Loan Portal. Please choose an option below to proceed:</p>\n\n\n                            <main class=\"page-content\">\n                                <section class=\"existing-loan\">\n                                    <h2>Existing Loan Application</h2>\n                                    <p>Click the link below to access the\n                                        loan processing page.</p>\n                                    <a class=\"btn btn-primary\" (click)=\"navigateToExistingAccount()\">Existing Loan Account</a>\n                                </section>\n\n                                <section class=\"new-loan\">\n                                    <h2>New Loan Application</h2>\n                                    <p>If you are applying a loan for the first time, click on the link below to create your staff profile.</p>\n                                    <a class=\"btn btn-secondary\" (click)=\"navigateToNewAccount()\">New Loan Application</a>\n                                </section>\n                            </main>\n\n                            <footer class=\"page-footer\">\n                                <p>&copy; Kingdom Bank Staff Loan. All rights reserved.</p>\n                            </footer>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n\n            <!-- <div class=\"staff-loan-container\">\n                <div class=\"header\">\n                  <h1>Staff Loan Portal</h1>\n                </div>\n                <div class=\"body\">\n                  <p>Welcome to the Staff Loan Portal. Please choose an option below to proceed:</p>\n                  <div class=\"options\">\n                    <button mat-raised-button color=\"primary\" (click)=\"navigateToExistingAccount()\">\n                      <mat-icon>account_balance</mat-icon>\n                      Existing Staff Loan Account\n                    </button>\n                    <button mat-raised-button color=\"accent\" (click)=\"navigateToNewAccount()\">\n                      <mat-icon>add_circle</mat-icon>\n                      Apply for a New Staff Loan\n                    </button>\n                  </div>\n                </div>\n              </div> -->\n\n        </div>\n    </div>\n</section>"],"names":[],"sourceRoot":"webpack:///"}